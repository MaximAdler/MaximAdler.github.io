<div class="flex md-column sm-column column-center">
    <div class="steps-container column-center align-center md-column sm-column flex">
        <div>
            <label class="step btn" ng-repeat="step in [1,2,3,4]" ng-class="{'finished': ctrl.currentState.data.state > step, 'current': ctrl.currentState.data.state === step}" ng-click="ctrl.goToStep(step)">
                <span class="step-content">{{step}}</span>
            </label>
        </div>
        <span class="step-description">{{ctrl.currentState.data.description}}</span>
    </div>
    <div class="img-container sm-column align-center flex">
        <div class="img-cell" ng-repeat="animal in ctrl.animals" ng-class="{'selected': ctrl.isSelected(animal)}" ng-model="user.animal" ng-click="ctrl.selectAnimal(animal)" style="background-image: url({{animal.url}});"></div>
    </div>
    <span ng-show="!ctrl.isCat()" class="text-red">Вы выбрали собачку. А надо котика.</span>
    <span ng-show="haveNoAnimal && user.animal.type == null" class="text-red">Пожалуйста, выберите котика!</span>
    <div class="action-panel flex column-center">
        <button ng-click="ctrl.goToStep(ctrl.currentState.data.state - 1)" class="btn white">
            <i class="fa fa-chevron-left"></i>
            <span>Предыдущий</span>
        </button>
        <button ng-click="ctrl.goToStep(ctrl.currentState.data.state + 1)" class="btn white">
            <span>Следующий</span>
            <i class="fa fa-chevron-right"></i>
        </button>
    </div>
</div>
